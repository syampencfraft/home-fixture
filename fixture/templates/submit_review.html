{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="glass-card p-5 text-center">
            <div
                class="bg-warning bg-opacity-10 p-4 rounded-circle d-inline-block mb-4 border border-warning border-opacity-10">
                <i class="bi bi-stars text-warning fs-1"></i>
            </div>

            <h2 class="fw-bold mb-2">Service <span class="text-gradient">Feedback</span></h2>
            <p class="text-muted mb-5">How was your experience with {{ booking.professional.user.username }}?</p>

            <form method="POST">
                {% csrf_token %}

                <div class="mb-5">
                    <label class="form-label small fw-bold text-muted text-uppercase mb-4 d-block">Overall
                        Rating</label>
                    <div class="rating-stars h2">
                        {% for i in "54321" %}
                        <input type="radio" name="rating" value="{{ i }}" id="rate-{{ i }}" class="d-none" {% if i=="5"
                            %}checked{% endif %}>
                        <label for="rate-{{ i }}" class="bi bi-star-fill px-2 cursor-pointer transition-all"></label>
                        {% endfor %}
                    </div>
                </div>

                <div class="mb-4 text-start">
                    <label class="form-label small fw-semibold text-muted">Detailed Comment</label>
                    <textarea name="comment"
                        class="form-control rounded-4 bg-white bg-opacity-5 border-white border-opacity-10 text-white p-3"
                        rows="4" placeholder="Tell us what you liked (or didn't like)..."></textarea>
                    {% if form.comment.errors %}
                    <div class="text-danger small mt-1">{{ form.comment.errors }}</div>
                    {% endif %}
                </div>

                <div class="d-grid gap-3 pt-3">
                    <button type="submit" class="btn btn-premium py-3 rounded-pill fw-bold">
                        Submit Review
                    </button>
                    <a href="{% url 'job_details' booking.id %}" class="btn btn-link text-muted">Skip for now</a>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    .rating-stars {
        display: flex;
        flex-direction: row-reverse;
        justify-content: center;
    }

    .rating-stars label {
        color: rgba(255, 255, 255, 0.1);
        cursor: pointer;
        transition: all 0.2s;
    }

    .rating-stars input:checked~label,
    .rating-stars label:hover,
    .rating-stars label:hover~label {
        color: #fbbf24;
        transform: scale(1.15);
    }

    .cursor-pointer {
        cursor: pointer;
    }
</style>
{% endblock %}